# Cursor設定見直しレポート - 2025-12-25

**背景**: 12時間エラー継続の根本原因分析により、LLMの判断ミスが判明
**目的**: 最適なCursor設定で、同様の問題を防止

---

## 🔍 現在の設定（画像より）

### ONになっているモデル
- ✅ Composer 1
- ✅ Opus 4.5
- ✅ Sonnet 4.5
- ✅ GPT-5.1 Codex Max Extra High
- ✅ GPT-5.1 Codex Max High Fast
- ✅ GPT-5.2 High
- ✅ GPT-5.2 High Fast
- ✅ Gemini 3 Flash
- ✅ Grok Code

### OFFになっているモデル
- ❌ 一部のモデル（詳細不明）

---

## ⚠️ 現在の設定の問題点

### 1. **モデル選択が多すぎる（優先順位不明確）**

**問題**:
- 9つ以上のモデルがONになっている
- どのモデルが実際に使用されるかが不透明
- Cursorが自動選択するため、品質がばらつく可能性

**今回の問題との関連**:
- `vercel.json`の構文エラー（文字列 vs 配列）を3回繰り返した
- 公式ドキュメント確認を怠った
- どのモデルが使用されたか不明で、一貫性がない可能性

### 2. **公式ドキュメント確認能力の重要性**

**今回の失敗**:
- `includeFiles`の構文を推測で決定
- Vercel公式ドキュメントを確認しなかった
- 同じ間違いを3回繰り返した

**必要な能力**:
- ✅ 公式ドキュメントを参照・確認する能力
- ✅ エラーパターンから根本原因を特定する能力
- ✅ 同じ間違いを繰り返さない学習能力

---

## ✅ 推奨設定（用途別）

### 📌 **設定方針: 用途別に厳選**

多すぎるモデルをONにするのではなく、用途に応じて**2-3個に絞る**ことを推奨します。

---

### **推奨設定1: GPT中心構成（推奨 - ユーザー好み）**

**ONにするモデル**:
1. ✅ **GPT-5.2 High** （メイン、日常開発）
2. ✅ **GPT-5.2 High Fast** （高速処理が必要な場合）

**OFFにするモデル**:
- ❌ GPT-5.1 Codex Max Extra High（過剰な機能、コスト高）
- ❌ GPT-5.1 Codex Max High Fast（品質が不安定）
- ❌ Claude Sonnet 4.5（GPTを好む場合）
- ❌ Claude Opus 4.5（GPTを好む場合）
- ❌ Claude Composer 1（GPTを好む場合）
- ❌ Gemini 3 Flash（重複機能）
- ❌ Grok Code（重複機能）

**理由**:
- **GPT-5.2 High**: 最新のGPTモデル、コード生成品質が高い、公式ドキュメント確認能力が優秀
- **GPT-5.2 High Fast**: 高速処理が必要な場合に手動で切り替え
- **2つに絞る**: 優先順位が明確になり、一貫性が向上
- **GPT中心**: ユーザーの好みに合わせた構成

---

### **推奨設定2: GPT単一モデル（保守的アプローチ）**

**ONにするモデル**:
1. ✅ **GPT-5.2 High** （メインのみ）

**理由**:
- 単一モデルにすることで、一貫性が最大に
- 今回の問題（構文エラー繰り返し）のような不整合を防止
- GPT-5.2 Highは公式ドキュメント確認能力が高い
- シンプルで予測可能な動作

---

### **推奨設定3: Claude中心構成（代替案）**

**ONにするモデル**:
1. ✅ **Claude Sonnet 4.5** （メイン）
2. ✅ **Claude Opus 4.5** （深い分析が必要な場合）

**OFFにするモデル**:
- ❌ Composer 1（高速だが品質が不安定）
- ❌ GPT-5.1/5.2系（Claudeを好む場合）
- ❌ Gemini 3 Flash（重複機能）
- ❌ Grok Code（重複機能）

**理由**:
- **Sonnet 4.5**: バランスが最高、コード生成品質が高い、公式ドキュメント確認能力が優秀
- **Opus 4.5**: 深い推論が必要な場合に手動で切り替え
- **2つに絞る**: 優先順位が明確になり、一貫性が向上

---

## 🎯 今回の問題を防ぐための推奨設定

### **最推奨: 推奨設定1（GPT-5.2 High + GPT-5.2 High Fast）**

**ユーザーの好み（GPT）を考慮した推奨設定**

**なぜこの設定が適しているか**:

1. **公式ドキュメント確認能力**
   - GPT-5.2 Highは公式ドキュメントを参照する能力が高い
   - `vercel.json`のような設定ファイルの構文も正確に把握
   - 最新のGPTモデルのため、最新の技術情報に対応

2. **エラーパターン分析能力**
   - 同じエラーが続いた場合、根本原因を特定する能力が高い
   - 構文エラーの可能性を早期に検討

3. **学習能力**
   - 同じ間違いを繰り返さない
   - 過去のエラーから学習する

4. **一貫性**
   - 2つのモデルに絞ることで、動作が予測可能
   - 品質のばらつきが少ない
   - GPT中心の構成で、ユーザーの好みに合致

### **代替推奨: 推奨設定2（GPT-5.2 High のみ）**

**より保守的で一貫性を重視する場合**

- 単一モデルにすることで、最大の一貫性を実現
- 今回の問題（構文エラー繰り返し）のような不整合を防止
- シンプルで予測可能な動作

---

## 📊 モデル別能力比較（今回の問題に関連）

| モデル | 公式ドキュメント確認 | 構文エラー特定 | エラーパターン分析 | 一貫性 | 推奨度（GPT好み） |
|:--|:--|:--|:--|:--|:--|
| **GPT-5.2 High** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ **最推奨（GPT好み）** |
| GPT-5.2 High Fast | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐（高速処理時） |
| GPT-5.1 Codex Max Extra High | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐（過剰機能） |
| GPT-5.1 Codex Max High Fast | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐（品質不安定） |
| Claude Sonnet 4.5 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐（Claude好みの場合） |
| Claude Opus 4.5 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐（Claude好みの場合） |
| Composer 1 | ⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐（試作のみ） |
| Gemini 3 Flash | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐ |
| Grok Code | ⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐ |

---

## 🔧 具体的な設定手順

### ステップ1: 現在の設定を確認

1. Cursor Settings → Models
2. 現在ONになっているモデルを確認

### ステップ2: 推奨設定を適用

**推奨設定1（GPT中心）を適用する場合**:

1. **GPT-5.2 High**: ✅ ON（メイン）
2. **GPT-5.2 High Fast**: ✅ ON（高速処理時）
3. **その他すべて**: ❌ OFF

**推奨設定2（GPT単一）を適用する場合**:

1. **GPT-5.2 High**: ✅ ON（メインのみ）
2. **その他すべて**: ❌ OFF

### ステップ3: 動作確認

1. 簡単なコード生成タスクで動作確認
2. 公式ドキュメント参照が必要なタスクで確認
3. エラー修正タスクで確認

---

## 💡 追加の推奨事項

### 1. **モデルの手動選択**

Cursorでは、タスクごとにモデルを手動で選択できます：

- **通常の開発**: Sonnet 4.5（デフォルト）
- **深い分析が必要**: Opus 4.5を選択
- **クイックな試作**: Composer 1を選択（必要に応じて）

### 2. **設定の定期的な見直し**

- 月1回程度、設定を見直す
- 新しいモデルが追加された場合は検討
- 問題が発生した場合は、設定も見直す

### 3. **外部レビューの活用**

今回のように問題が解決しない場合は：
- **早期にGitHub Copilot Agentsを活用**（1-2時間以内）
- 特に本番環境でサービス停止中の場合は迅速に対応

---

## 📋 設定変更チェックリスト

### 推奨設定1（GPT中心）を適用する場合

- [ ] GPT-5.2 HighをONにする（メイン）
- [ ] GPT-5.2 High FastをONにする（高速処理時）
- [ ] GPT-5.1 Codex Max Extra HighをOFFにする
- [ ] GPT-5.1 Codex Max High FastをOFFにする
- [ ] Claude Sonnet 4.5をOFFにする（GPTを好む場合）
- [ ] Claude Opus 4.5をOFFにする（GPTを好む場合）
- [ ] Claude Composer 1をOFFにする
- [ ] Gemini 3 FlashをOFFにする
- [ ] Grok CodeをOFFにする
- [ ] 動作確認（簡単なコード生成タスク）
- [ ] 動作確認（公式ドキュメント参照タスク）

### 推奨設定2（GPT単一）を適用する場合

- [ ] GPT-5.2 HighをONにする（メインのみ）
- [ ] その他すべてのモデルをOFFにする
- [ ] 動作確認（簡単なコード生成タスク）
- [ ] 動作確認（公式ドキュメント参照タスク）

---

## ✅ 期待される効果

### 1. **一貫性の向上**
- モデルを2-3個に絞ることで、動作が予測可能
- 品質のばらつきが減少

### 2. **公式ドキュメント確認能力の向上**
- Sonnet 4.5 / Opus 4.5は公式ドキュメント参照能力が高い
- `vercel.json`のような設定ファイルの構文エラーを防止

### 3. **エラーパターン分析能力の向上**
- 同じエラーが続いた場合、根本原因を特定する能力が向上
- 構文エラーの可能性を早期に検討

### 4. **学習能力の向上**
- 同じ間違いを繰り返さない
- 過去のエラーから学習する

---

## 🔄 今後の対応

### 即座の対応
1. ✅ 推奨設定1（Sonnet 4.5 + Opus 4.5）を適用
2. ✅ 動作確認
3. ✅ 設定変更を記録

### 短期対応（1週間以内）
1. 新しい設定で開発を継続
2. 問題が発生した場合は設定も見直す
3. 効果を測定（エラー発生率、修正時間など）

### 中長期対応（1ヶ月以内）
1. 設定の定期的な見直し（月1回）
2. 新しいモデルが追加された場合は検討
3. ベストプラクティスの文書化

---

## 📝 まとめ

### 現在の設定の問題点
- ❌ モデル選択が多すぎる（9つ以上）
- ❌ 優先順位が不明確
- ❌ 品質がばらつく可能性

### 推奨設定（GPT好みの場合）
- ✅ **GPT-5.2 High**（メイン）+ **GPT-5.2 High Fast**（高速処理時）
- ✅ または **GPT-5.2 High**（単一モデル、より保守的）
- ✅ 2つ（または1つ）に絞ることで、一貫性と品質が向上
- ✅ 公式ドキュメント確認能力が高い最新のGPTモデルを選択
- ✅ ユーザーの好み（GPT）に合致

### 期待される効果
- ✅ 一貫性の向上
- ✅ 公式ドキュメント確認能力の向上
- ✅ エラーパターン分析能力の向上
- ✅ 学習能力の向上
- ✅ **今回のような問題（構文エラー繰り返し）の防止**
- ✅ GPT中心の構成で、ユーザーの好みに合致

---

**作成日時**: 2025-12-25
**背景**: 12時間エラー継続の根本原因分析
**推奨設定（GPT好み）**: GPT-5.2 High（メイン）+ GPT-5.2 High Fast（高速処理時）
**代替推奨**: GPT-5.2 High（単一モデル、より保守的）

